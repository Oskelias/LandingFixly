<!DOCTYPE html>
<html lang="es">
<head> 
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>Fixly Taller - Sistema de Gestión para Talleres de Reparación | Software Profesional</title>
    <meta name="description" content="Sistema completo para talleres de reparación. Gestiona órdenes, técnicos, WhatsApp automático y comprobantes. 15 días gratis. +120 talleres confían en nosotros.">
    <meta name="keywords" content="sistema taller, gestión reparaciones, software taller, whatsapp automático, comprobantes taller, dashboard taller, argentina">
    <meta name="author" content="Fixly Taller">
    <meta name="robots" content="index, follow">
    <meta name="language" content="Spanish">
    <meta name="revisit-after" content="7 days">  
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://fixlytaller.com/">
    <meta property="og:title" content="Fixly Taller - Sistema de Gestión para Talleres de Reparación">
    <meta property="og:description" content="Sistema completo para talleres de reparación. Gestiona órdenes, técnicos, WhatsApp automático y comprobantes. 15 días gratis.">
    <meta property="og:image" content="https://fixlytaller.com/images/fixly-social-preview.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="Fixly Taller">
    <meta property="og:locale" content="es_AR">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://fixlytaller.com/">
    <meta property="twitter:title" content="Fixly Taller - Sistema de Gestión para Talleres de Reparación">
    <meta property="twitter:description" content="Sistema completo para talleres de reparación. Gestiona órdenes, técnicos, WhatsApp automático y comprobantes. 15 días gratis.">
    <meta property="twitter:image" content="https://fixlytaller.com/images/fixly-social-preview.jpg">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#4F46E5">
    <meta name="msapplication-TileColor" content="#4F46E5">
    <meta name="msapplication-config" content="/browserconfig.xml">
    <meta name="theme-color" content="#4F46E5">
    
    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: https:; img-src 'self' data: https:; font-src 'self' https://cdn.jsdelivr.net https://fonts.gstatic.com;">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://fixlytaller.com/">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" as="style">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" as="style">
    
    <!-- DNS Prefetch -->
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="//wa.me">
    <link rel="dns-prefetch" href="//api.fixlytaller.com"><!-- actualizado -->

    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    
    <!-- Schema.org Markup -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "Fixly Taller",
        "description": "Sistema completo para talleres de reparación. Gestiona órdenes, técnicos, WhatsApp automático y comprobantes.",
        "url": "https://fixlytaller.com",
        "applicationCategory": "BusinessApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "ARS",
            "description": "15 días gratis, luego $14.999/mes"
        },
        "provider": {
            "@type": "Organization",
            "name": "Fixly Taller",
            "url": "https://fixlytaller.com"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "120"
        }
    }
    </script>
    
    <style>
        .gradient-bg { background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%); }
        .gradient-reverse { background: linear-gradient(135deg, #7C3AED 0%, #4F46E5 100%); }
        .btn-gratis { background-color: #F59E0B !important; background: #F59E0B !important; }
        .btn-gratis:hover { background-color: #D97706 !important; background: #D97706 !important; }
        .btn-contact { background-color: #10B981 !important; background: #10B981 !important; }
        .btn-contact:hover { background-color: #059669 !important; background: #059669 !important; }
        .floating-shapes::before { content:''; position:absolute; width:200px; height:200px; border-radius:50%; background:rgba(255,255,255,.1); top:10%; right:10%; animation:float 6s ease-in-out infinite; }
        .floating-shapes::after { content:''; position:absolute; width:150px; height:150px; border-radius:30%; background:rgba(255,255,255,.05); bottom:20%; left:15%; animation:float 8s ease-in-out infinite reverse; }
        @keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-20px)} }
        .card-hover{ transition:all .3s ease; } .card-hover:hover{ transform:translateY(-5px); box-shadow:0 20px 40px rgba(0,0,0,.1); }
        .highlight-card{ background:linear-gradient(135deg,#4F46E5 0%,#7C3AED 100%); color:#fff; }
        .highlight-card .text-gray-600{ color:rgba(255,255,255,.9)!important; }
        .security-bg{ background:linear-gradient(135deg,#1E3A8A 0%,#3730A3 100%); }
        .nav-persistent{ position:sticky; top:0; z-index:50; }
        .whatsapp-mockup{ max-height:none; min-height:600px; }
        .whatsapp-messages{ max-height:none; overflow:visible; }
        /* CARRUSEL */
        .carousel-container{ position:relative!important; width:100%!important; }
        .carousel-slide{ display:none!important; opacity:0!important; transition:opacity .5s ease-in-out!important; width:100%!important; height:340px!important; position:relative!important; overflow:hidden!important; }
        .carousel-slide.active{ display:block!important; opacity:1!important; }
        .carousel-indicator{ cursor:pointer; }
        .carousel-indicator.active{ background-color:#4F46E5!important; }
        .carousel-prev,.carousel-next{ cursor:pointer; user-select:none; }
        .carousel-prev:hover,.carousel-next:hover{ color:#4F46E5; }

        /* MODAL CON SCROLL */
        .modal-content-container{ max-height:85vh; display:flex; flex-direction:column; overflow:hidden; }
        .modal-header{ flex-shrink:0; padding:2rem 2rem 1rem 2rem; }
        .modal-body{ flex:1; overflow-y:auto; padding:0 2rem 1rem 2rem; }
        .modal-footer{ flex-shrink:0; padding:1rem 2rem 2rem 2rem; }
        .modal-body::-webkit-scrollbar{ width:6px; }
        .modal-body::-webkit-scrollbar-track{ background:#f1f5f9; border-radius:10px; }
        .modal-body::-webkit-scrollbar-thumb{ background:#cbd5e1; border-radius:10px; }
        .modal-body::-webkit-scrollbar-thumb:hover{ background:#94a3b8; }
        @media (max-height:700px){ .modal-content-container{ max-height:95vh; } }
        @media (max-height:500px){
            .modal-header{ padding:1rem 1.5rem .5rem 1.5rem; }
            .modal-body{ padding:0 1.5rem .5rem 1.5rem; }
            .modal-footer{ padding:.5rem 1.5rem 1rem 1.5rem; }
        }

        /* Optimización para PDF export (arreglo del bloque inválido) */
        @media print{
            .nav-persistent{ position:static; }
            .modal-content-container, #modalRegistro, #modalConfirmacion{ display:none !important; }
            .floating-shapes::before, .floating-shapes::after{ display:none; }
        }
    </style>
</head>
<body class="bg-white">
    <!-- Navigation -->
    <nav class="gradient-bg text-white py-4 px-6 nav-persistent">
        <div class="max-w-7xl mx-auto flex items-center justify-between">
            <div class="flex items-center space-x-2">
                <i class="fas fa-tools text-2xl"></i>
                <span class="text-2xl font-bold">Fixly Taller</span>
            </div>
            <div class="hidden md:flex space-x-8">
                <a href="#funcionalidades" class="hover:text-yellow-300 transition-colors">Funcionalidades</a>
                <a href="#whatsapp" class="hover:text-yellow-300 transition-colors">WhatsApp Integrado</a>
                <a href="#seguridad" class="hover:text-yellow-300 transition-colors">Seguridad</a>
                <a href="#precios" class="hover:text-yellow-300 transition-colors">Precios</a>
            </div>
            <div class="flex space-x-3">
                <a href="https://wa.me/5491165689145?text=Hola, quiero consultar sobre Fixly Taller" target="_blank" class="btn-contact px-4 py-2 rounded-full font-semibold text-white hover:bg-green-600 transition-colors">
                    <i class="fab fa-whatsapp mr-1"></i>Contacto
                </a>
                <button onclick="abrirModal()" class="btn-gratis px-4 py-2 rounded-full font-semibold text-white hover:bg-orange-600 transition-colors">
                    Probar Gratis
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <!-- (… sección hero + carrusel y resto del contenido tal como lo tenías …) -->
    <!-- Mantengo todo tu contenido hasta los modales, sin cambios de estructura -->
    <!-- … -->

    <!-- (tu HTML original de secciones continúa intacto) -->

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="max-w-7xl mx-auto px-6 text-center">
            <div class="flex items-center justify-center mb-6">
                <i class="fas fa-tools text-2xl mr-2"></i>
                <span class="text-2xl font-bold">Fixly Taller</span>
            </div>
            <p class="text-gray-400">© 2025 Fixly Taller. Sistema de gestión para talleres de reparación.</p>
        </div>
    </footer>

    <!-- Modal de Registro -->
    <!-- (modales iguales a tu versión, sólo consumidos por el JS corregido) -->

    <!-- ===================== JS ===================== -->
    <script>
        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    const navbarHeight = 60;
                    const targetPosition = target.offsetTop - navbarHeight;
                    window.scrollTo({ top: targetPosition, behavior: 'smooth' });
                }
            });
        });

        // Modal
        function abrirModal(){
            const modal = document.getElementById('modalRegistro');
            const modalContent = document.getElementById('modalContent');
            modal.classList.remove('hidden');
            setTimeout(()=>{ modalContent.classList.remove('scale-95','opacity-0'); modalContent.classList.add('scale-100','opacity-100'); },10);
        }
        function cerrarModal(){
            const modal = document.getElementById('modalRegistro');
            const modalContent = document.getElementById('modalContent');
            modalContent.classList.remove('scale-100','opacity-100');
            modalContent.classList.add('scale-95','opacity-0');
            setTimeout(()=>{ modal.classList.add('hidden'); },300);
        }
        function cerrarModalConfirmacion(){ document.getElementById('modalConfirmacion').classList.add('hidden'); }

        // ====== ENVÍO DE LEAD (CORREGIDO) ======
        async function enviarFormularioModal(event){
            if (event) event.preventDefault();
            const empresa     = document.getElementById('modalNombreTaller').value.trim();
            const propietario = document.getElementById('modalNombrePropietario').value.trim();
            const email       = document.getElementById('modalEmail').value.trim();
            const telefono    = document.getElementById('modalTelefono').value.trim();
            const ciudad      = document.getElementById('modalCiudad').value.trim();

            if (!empresa || !propietario || !email){
                alert('❌ Completá: Taller, Propietario y Email.');
                return;
            }

            // botón en loading
            const btn = event?.currentTarget || event?.target || document.querySelector('#modalContent button[onclick^="enviarFormularioModal"]');
            const originalText = btn ? btn.innerHTML : '';
            if (btn){ btn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Enviando solicitud...'; btn.disabled = true; }

            const payload = {
                taller: empresa,
                propietario,
                email,
                telefono,
                ciudad,
                tipo: 'landing_modal_integrado'
            };

            try{
                const resp = await fetch('https://api.fixlytaller.com/api/lead-registro', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const data = await resp.json().catch(()=> ({}));

                if (!resp.ok || data.success === false){
                    const msg = data?.error || (data?.errors && data.errors.join(', ')) || ('HTTP ' + resp.status);
                    throw new Error(msg);
                }

                // éxito
                mostrarConfirmacionModal(data);
            }catch(err){
                console.error('Error envío lead:', err);
                alert('❌ Error: ' + (err?.message || 'No se pudo enviar. Intente nuevamente.'));
            }finally{
                if (btn){ btn.innerHTML = originalText; btn.disabled = false; }
            }
        }

        function mostrarConfirmacionModal(resultado){
            cerrarModal();
            const detalle = document.getElementById('modalResultadoDetalle');
            detalle.innerHTML = `
                <div class="bg-green-50 border border-green-200 rounded-lg p-4 mb-4">
                    <h3 class="text-green-800 font-semibold mb-2 text-sm">
                        <i class="fas fa-check-circle mr-1"></i>¡Solicitud Procesada!
                    </h3>
                    <div class="space-y-1 text-green-700 text-sm">
                        <p><i class="fas fa-id-badge mr-1"></i><strong>ID:</strong> ${resultado.leadId || 'Generado'}</p>
                        <p><i class="fas fa-clock mr-1"></i><strong>Te contactaremos en 24 horas</strong></p>
                        <p><i class="fas fa-gift mr-1"></i><strong>15 días gratuitos</strong> incluidos</p>
                        ${resultado.telegramSent ? `<p><i class="fab fa-telegram mr-1"></i><strong>Notificación Telegram:</strong> enviada</p>` : ''}
                        ${resultado.message ? `<p><i class="fas fa-info-circle mr-1"></i>${resultado.message}</p>` : ''}
                    </div>
                </div>
                <div class="bg-gray-50 rounded-lg p-3">
                    <h4 class="font-semibold text-gray-800 mb-2 text-sm">Datos enviados:</h4>
                    <div class="text-xs text-gray-600 space-y-1">
                        <p><strong>Taller:</strong> ${document.getElementById('modalNombreTaller').value}</p>
                        <p><strong>Email:</strong> ${document.getElementById('modalEmail').value}</p>
                        <p><strong>Teléfono:</strong> ${document.getElementById('modalTelefono').value || 'No proporcionado'}</p>
                    </div>
                </div>
            `;
            document.getElementById('modalConfirmacion').classList.remove('hidden');
        }

        // cerrar modales clic fuera
        document.getElementById('modalRegistro').addEventListener('click', function(e){ if (e.target === this) cerrarModal(); });
        document.getElementById('modalConfirmacion').addEventListener('click', function(e){ if (e.target === this) cerrarModalConfirmacion(); });

        // Carrusel (igual que tu versión)
        let currentSlide=0;
        const slides = document.querySelectorAll('.carousel-slide');
        const indicators = document.querySelectorAll('.carousel-indicator');
        const totalSlides = slides.length;
        let carouselInterval;
        const slideTitles=['Dashboard - Estados Hoy','Gestión de Reparaciones','Notificar Cliente','Formulario de Pedidos','Comprobante A4'];
        function showSlide(i){
            slides.forEach(s=>{ s.style.display='none'; s.style.opacity='0'; s.classList.remove('active'); });
            indicators.forEach(b=>{ b.classList.remove('active'); b.classList.remove('bg-purple-600'); b.classList.add('bg-gray-300'); });
            if(slides[i]){ slides[i].style.display='block'; slides[i].style.opacity='1'; slides[i].classList.add('active'); }
            if(indicators[i]){ indicators[i].classList.add('active'); indicators[i].classList.remove('bg-gray-300'); indicators[i].classList.add('bg-purple-600'); }
            const t=document.querySelector('.carousel-title'); if(t && slideTitles[i]) t.textContent=slideTitles[i];
            currentSlide=i;
        }
        function nextSlide(){ showSlide((currentSlide+1)%totalSlides); }
        function prevSlide(){ showSlide((currentSlide-1+totalSlides)%totalSlides); }
        function startAutoSlide(){ carouselInterval=setInterval(nextSlide,4000); }
        function stopAutoSlide(){ if(carouselInterval) clearInterval(carouselInterval); }
        document.addEventListener('DOMContentLoaded', function(){
            const prevButton=document.querySelector('.carousel-prev');
            const nextButton=document.querySelector('.carousel-next');
            prevButton?.addEventListener('click', ()=>{ stopAutoSlide(); prevSlide(); startAutoSlide(); });
            nextButton?.addEventListener('click', ()=>{ stopAutoSlide(); nextSlide(); startAutoSlide(); });
            indicators.forEach((ind,idx)=> ind.addEventListener('click', ()=>{ stopAutoSlide(); showSlide(idx); startAutoSlide(); }));
            const container=document.querySelector('.carousel-container');
            container?.addEventListener('mouseenter', stopAutoSlide);
            container?.addEventListener('mouseleave', startAutoSlide);
            showSlide(0); startAutoSlide();
        });
    </script>

    <!-- Scripts de Genspark (dentro del body para HTML válido) -->
    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDnOFiF0ox4LmZtVbaITC2OS48z8q%2BxvGdGvOauG%2FQJ4ekHt7P4m0%2BYLz5igABIIj9xz%2FzeqDdzJCPnRGfrNB1rkiTVFrMNfAKCZ%2BlOGv%2F1rptUHd9DBkx%2Fk0Dd2Xia%2BH4CQmpKigGojf%2Fv0Rt%2B0KYruFwwbsDH%2FdCs1AacNmd0a7ND82PaQbhVyihl00220PPKv45S7Z6oYl6183yGi52mqDrJQpqIc4I3RX%2F%2F7oRIUHuG1wEODdFH5g3Ko5Ke%2Fwy4jaBHdGZDp4aGscZM3WUwKeEkIH%2FYJrHeboxngyzGAKFdpVLX%2BW34AaeX%2F9DGjK8Ypk%2BHaMb%2B1w7mTg8gBN%2F5aNcvPrlrHAK9CetOtWy6CadcWiKg1N6Wy0htkfRmUyipvzLvn%2B5C1YXmgpe%2BYZnHFvhyiqsXgoinQbxudS4Mre3schEfHx%2BoX2MahkekSaVLGGoZjV0K64IIonj77Hh1rf4rhC26T%2B0LqLFTqwtIcK8CYSBVdYDfV2qU3IxDzgRg%3D%3D";
        window.__genspark_locale = "es-ES";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDnOFiF0ox4LmZtVbaITC2OS48z8q+xvGdGvOauG/QJ4ekHt7P4m0+YLz5igABIIj9xz/zeqDdzJCPnRGfrNB1rkiTVFrMNfAKCZ+lOGv/1rptUHd9DBkx/k0Dd2Xia+H4CQmpKigGojf/v0Rt+0KYruFwwbsDH/dCs1AacNmd0a7ND82PaQbhVyihl00220PPKv45S7Z6oYl6183yGi52mqDrJQpqIc4I3RX//7oRIUHuG1wEODdFH5g3Ko5Ke/wy4jaBHdGZDp4aGscZM3WUwKeEkIH/YJrHeboxngyzGAKFdpVLX+W34AaeX/9DGjK8Ypk+HaMb+1w7mTg8gBN/5aNcvPrlrHAK9CetOtWy6CadcWiKg1N6Wy0htkfRmUyipvzLvn+5C1YXmgpe+YZnHFvhyiqsXgoinQbxudS4Mre3schEfHx+oX2MahkekSaVLGGoZjV0K64IIonj77Hh1rf4rhC26T+0LqLFTqwtIcK8CYSBVdYDfV2qU3IxDzgRg==";
    </script>
    <script id="html_notice_dialog_script" src="https://www.genspark.ai/notice_dialog.js"></script>
</body>
</html>
<!-- build: canario 20:07 -->
